<!DOCTYPE html>
<html>
<head>
<title>
	Unicef project
</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="assets/css/leaflet.css" />
<link rel="stylesheet" href="assets/css/leaflet-easy-button.css" />
<link rel="stylesheet" href="assets/css/leaflet-tag-filter-button.css" />
     
<link rel="stylesheet" href="assets/css/ripple.min.css" />
<script src="assets/js/leaflet.js"></script>
<script src="assets/js/main.js"></script>
<script src="assets/js/leaflet-easy-button.js"></script>
<script src="assets/js/leaflet-tag-filter-button.js"></script>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>	
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.js"></script>	
    

<script src="assets/js/leaflet-ajax-gh-pages/dist/leaflet.ajax.js"></script>	
<!--<script src="assets/js/leaflet-ajax-gh-pages/dist/leaflet.ajax.min.js"></script>-->
<script src="assets/js/jquery-2.1.1.js"></script>
	
<style>
.leaflet-map {
  height: 500px;
  width: 100%;
}

.easy-button-button {
  display: block !important;
}

.tag-filter-tags-container {
  left: 30px;
}
</style>
</head>
<body>
<div id="releated-usage-map" style="width: 100%; height: 800px"></div>
<script type="text/javascript">

$(function(argument) {
	var osmUrl = 'http://{s}.tile.osm.org/{z}/{x}/{y}.png',
        osmAttrib = '&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        osm = L.tileLayer(osmUrl, {
            maxZoom: 18,
            attribution: osmAttrib
        });

    // initialize the map on the "map" div with a given center and zoom
    var releatedUsageMap = L.map('releated-usage-map').setView([0.3193, 32.5953], 12).addLayer(osm);
	

    var health =	$.getJSON('./geodata/HealthCentres.geojson', function(data){        
                var healthicons = L.icon({
                iconUrl: 'healthicons.svg',
                iconSize: [24, 48]
                });
        
        
        
				L.geoJson(data, {
					pointToLayer: function (feature, latlng) {
//						console.log(feature)
						var tagName = String(feature.properties.Ownership); 
						var geojsonMarkerProperties = {
                             icon: healthicons,
							tags: [String(feature.properties.Ownership), String(feature.properties.Grade), String(feature.properties.Grid_Dista)],
							
							
						}
                        
                        return L.marker(latlng, geojsonMarkerProperties);
//                        
//                    return marker;
                        
//        return L.circleMarker(latlng, geojsonMarkerProperties);
					
    }
			}).addTo(releatedUsageMap);
    });
    
    var health =	$.getJSON('./geodata/primarySchools.geojson', function(data){
                var schoolicon = L.icon({
                iconUrl: 'healthicons.svg',
                iconSize: [24, 48]
                });
				L.geoJson(data, {
					pointToLayer: function (feature, latlng) {
//						console.log(feature)
						var tagName = String(feature.properties.Ownership); 
						var geojsonMarkerProperties = {
                            icon: schoolicon,
							tags: [String(feature.properties.Ownership),String(feature.properties.Please_spe),String(feature.properties.Govt), String(feature.properties.Priv), String(feature.properties.Prim)],
							
							
						}
                        
        return L.marker(latlng, geojsonMarkerProperties);
					//onEachFeature: onEachFeature
    }
			}).addTo(releatedUsageMap);
    });
	
     var health =	$.getJSON('./geodata/Police.geojson', function(data){
         var policeicon = L.icon({
                iconUrl: 'healthicons.svg',
                iconSize: [24, 48]
                });
         
				L.geoJson(data, {
					pointToLayer: function (feature, latlng) {
//						console.log(feature)
						var tagName = String(feature.properties.Ownership); 
						var geojsonMarkerProperties = {
                              icon: policeicon,
							tags: [String(feature.properties.County),String(feature.properties.Subcounty)],
                            
               		
						}
       return L.marker(latlng, geojsonMarkerProperties);
					//onEachFeature: onEachFeature
    }
			}).addTo(releatedUsageMap);
    });
    
    
    
    
    
	 L.control.tagFilterButton({
		 data: ['GOVERNMENT', 'NGO','PRIVATE','HC II', 'Hospital','HC III','< 1 km', 'More than 1Km'],
		 
		//data: {ownership:'Private, Government, NGO'}, 
		
		 filterOnEveryClick: true,
        icon: '<img src="heathcenters.png">',
    }).addTo( releatedUsageMap );
    
     L.control.tagFilterButton({
		 data: ['Private','Non- Government Funded','Pre-Primary Schools','Primary Schools','Tertiary Educational Institutions','Secondary Schools','Non Formal Schools','Post Primary Schools','0','1','0', '1', '0', '1'],
		 
		//data: {ownership:'Private, Government, NGO'}, 
		
		 filterOnEveryClick: true,
        icon: '<img src="schools.png">',
    }).addTo( releatedUsageMap );
    
     L.control.tagFilterButton({
		 data: ['County','160', '188','119','153', '164','0','Subcounty','0','854','1314','346','344','348','347'],
		 
		//data: {ownership:'Private, Government, NGO'}, 
		
		 filterOnEveryClick: true,
        icon: '<img src="police.png">',
    }).addTo( releatedUsageMap );
    
    
    
   
	

	
	 

	
	
	
	
	
	

	
	
	
});
//});

</script>
</body>
</html>